<mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:l="sap.ui.layout"
        xmlns:f="sap.ui.layout.form"
        xmlns:core="sap.ui.core"
        xmlns="sap.m"
        controllerName="mortgage.pawnshop.controller.CreateTransaction">
    <Page floatingFooter="true" showNavButton="{device>/system/phone}" navButtonPress="back">
        <content>
            <f:Form editable="true">
                <f:title>
                    <core:Title text="{i18n>CT_FORM_CREATE_TRANSACTION}"/>
                </f:title>
                <f:layout>
                    <f:ResponsiveGridLayout
                            labelSpanXL="3"
                            labelSpanL="4"
                            labelSpanM="3"
                            labelSpanS="12"
                            adjustLabelSpan="false"
                            emptySpanXL="1"
                            emptySpanL="2"
                            emptySpanM="1"
                            emptySpanS="0"
                            columnsXL="2"
                            columnsL="2"
                            columnsM="2"
                            columnsS="1"
                            singleContainerFullSize="false"/>
                </f:layout>
                <f:formContainers>
                    <f:FormContainer title="">
                        <f:toolbar>
                            <Toolbar>
                                <Title text="{i18n>CT_PAWNEE}"/>
                                <ToolbarSpacer/>
                                <Button text="{i18n>check_pawnee}" icon="sap-icon://drop-down-list"/>
                            </Toolbar>
                        </f:toolbar>
                        <f:formElements>
                            <f:FormElement>
                                <f:label>
                                    <Label required="true" text="{i18n>EMAIL}"/>
                                </f:label>
                                <f:fields>
                                    <Input value="{createTrans>/email}"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement>
                                <f:label>
                                    <Label required="true" text="{i18n>NAME}"/>
                                </f:label>
                                <f:fields>
                                    <Input value="{createTrans>/pawneeName}"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement>
                                <f:label>
                                    <Label required="false" text="{i18n>IDNO}"/>
                                </f:label>
                                <f:fields>
                                    <Input value="{createTrans>/identityNumber}"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement>
                                <f:label>
                                    <Label required="false" text="{i18n>PHONE_NO}"/>
                                </f:label>
                                <f:fields>
                                    <Input value="{createTrans>/phone}"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement>
                                <f:label>
                                    <Label required="false" text="{i18n>ADDRESS}"/>
                                </f:label>
                                <f:fields>
                                    <ComboBox items="{city>/}" value="{createTrans>/addressObject/city}"
                                              placeholder="{i18n>CITY}">
                                        <layoutData>
                                            <l:GridData span="XL4 L3 M8 S6"/>
                                        </layoutData>
                                        <items>
                                            <core:Item text="{city>desc}" key="{city>id}"/>
                                        </items>
                                    </ComboBox>
                                    <ComboBox items="{dist>/}" value="{createTrans>/addressObject/district}"
                                              placeholder="{i18n>DISTRICT}">
                                        <layoutData>
                                            <l:GridData indentM="3" span="XL4 L3 M8 S6"/>
                                        </layoutData>
                                        <items>
                                            <core:Item text="{dist>desc}" key="{dist>id}"/>
                                        </items>
                                    </ComboBox>
                                    <Input value="{createTrans>/addressObject/streetName}"
                                           placeholder="{i18n>STREET_NAME}">
                                        <layoutData>
                                            <l:GridData indentXL="4"
                                                        indentL="4"
                                                        indentM="3" span="XL8 L6 M8 S12"/>
                                        </layoutData>
                                    </Input>
                                </f:fields>
                            </f:FormElement>
                        </f:formElements>
                    </f:FormContainer>
                    <f:FormContainer title="{i18n>CT_ITEM}">
                        <f:formElements>
                            <f:FormElement>
                                <f:label>
                                    <Label required="false" text="{i18n>ITEM}"/>
                                </f:label>
                                <f:fields>
                                    <Input value="{createTrans>/itemName}" placeholder="{i18n>ITEM_NAME}">
                                        <layoutData>
                                            <l:GridData span="XL5 L3 M4 S6"/>
                                        </layoutData>
                                    </Input>
                                    <Select forceSelection="true" change="onCateConfigChanged"
                                            items="{shopConfig>/}"
                                            placeholder="{i18n>ITEM_TYPE}">
                                        <layoutData>
                                            <l:GridData span="XL3 L3 M4 S6"/>
                                        </layoutData>
                                        <items>
                                            <core:ListItem key="{shopConfig>id}"
                                                           text="{shopConfig>name}"
                                                           additionalText="{shopConfig>category/categoryName}"/>
                                        </items>
                                    </Select>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement visible="{= ${currentConfig>/value1} !== null }">
                                <f:label>
                                    <Label required="false" text="{currentConfig>/value1}"/>
                                </f:label>
                                <f:fields>
                                    <Input value="{createTrans>/value1}"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement visible="{= ${currentConfig>/value2} !== null }">
                                <f:label>
                                    <Label required="false" text="{currentConfig>/value2}"/>
                                </f:label>
                                <f:fields>
                                    <Input value="{createTrans>/value2}"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement visible="{= ${currentConfig>/value3} !== null }">
                                <f:label>
                                    <Label required="false" text="{currentConfig>/value3}"/>
                                </f:label>
                                <f:fields>
                                    <Input value="{createTrans>/value3}"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement visible="{= ${currentConfig>/value4} !== null }">
                                <f:label>
                                    <Label required="false" text="{currentConfig>/value4}"/>
                                </f:label>
                                <f:fields>
                                    <Input value="{createTrans>/value4}"/>
                                </f:fields>
                            </f:FormElement>
                        </f:formElements>
                    </f:FormContainer>
                    <f:FormContainer title="{i18n>PAYMENT_TERM}">
                        <f:formElements>
                            <f:FormElement label="{i18n>PERIOD}">
                                <f:fields>
                                    <Input value="{createTrans>/paymentTerm}" textAlign="End" type="Number">
                                        <layoutData>
                                            <l:GridData span="XL3 L3 M3 S6"/>
                                        </layoutData>
                                    </Input>
                                    <ComboBox selectedKey="{createTrans>/paymentType}">
                                        <layoutData>
                                            <l:GridData span="XL5 L3 M5 S6"/>
                                        </layoutData>
                                        <items>
                                            <core:Item key="1" text="{i18n>PERIOD_UNIT_DATE}"/>
                                            <core:Item key="3" text="{i18n>PERIOD_UNIT_MONTH}"/>
                                            <core:Item key="2" text="{i18n>PERIOD_UNIT_WEEK}"/>
                                        </items>
                                    </ComboBox>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement label="{i18n>START_DATE}">
                                <f:fields>
                                    <DatePicker
                                            value="{path:'createTrans>/startDate', type:'sap.ui.model.type.Date', formatOptions: { form: 'long', strictParsing: true}}"
                                    />
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement label="{i18n>liquidateAfter}">
                                <f:fields>
                                    <Input fieldWidth="60%" description="{i18n>overdue_days}"
                                           value="{createTrans>/liquidateAfter}"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement label="{i18n>NOTE}">
                                <f:fields>
                                    <TextArea value="{createTrans>/note}"/>
                                </f:fields>
                            </f:FormElement>
                        </f:formElements>
                    </f:FormContainer>
                </f:formContainers>
            </f:Form>
        </content>
        <footer>
            <Toolbar>
                <ToolbarSpacer/>
                <content>
                    <Button press="onSubmitCreateTransaction" text="{i18n>BTN_SUBMIT}" type="Accept"/>
                    <Button text="{i18n>BTN_CANCEL}"/>
                </content>
            </Toolbar>
        </footer>
    </Page>
</mvc:View>