<mvc:View
        xmlns:mvc="sap.ui.core.mvc"
        xmlns="sap.m"
        controllerName="mortgage.pawnshop.controller.Transaction">
    <Page showHeader="false">
        <!--<Button text="{i18n>btn_register_pawnshop}" press="onRegister"/>-->
        <PullToRefresh visible="{device>/support/touch}" refresh="onRefresh"/>
        <Table growing="true" growingThreshold="5" growingScrollToLoad="true" fixedLayout="false"
               popinLayout="GridSmall" alternateRowColors="true"
               inset="{= !${device>/support/touch}}"
               items="{trans>/}">
            <headerToolbar>
                <Toolbar>
                    <content>
                        <Title level="H2" text="{i18n>title_transaction}"/>
                        <ToolbarSpacer/>
                        <Button icon="sap-icon://add" text="{i18n>btn_create_transaction}" press="onCreateTransaction"/>
                    </content>
                </Toolbar>
            </headerToolbar>
            <columns>
                <Column hAlign="End" popinDisplay="Inline" demandPopin="true" popinHAlign="Begin"
                        minScreenWidth="900px">
                    <Label wrapping="true" textAlign="Center" wrappingType="Hyphenated" text="{i18n>bl_tranid}"/>
                </Column>
                <Column>
                    <Label wrapping="true" textAlign="Center" wrappingType="Hyphenated" text="{i18n>pawnee_name}"/>
                </Column>
                <Column width="6rem" hAlign="Center" minScreenWidth="900px" demandPopin="true" popinDisplay="Inline"
                        popinHAlign="End">
                    <Label wrapping="true" textAlign="Center" wrappingType="Hyphenated" text="{i18n>date}"/>
                </Column>
                <Column minScreenWidth="900px" popinDisplay="Inline" demandPopin="true" popinHAlign="End">
                    <Label wrapping="true" textAlign="Center" wrappingType="Hyphenated" text="{i18n>item}"/>
                </Column>
                <Column width="6rem" minScreenWidth="900px">
                    <Label wrapping="true" textAlign="Center" wrappingType="Hyphenated" text="{i18n>item_cat}"/>
                </Column>
                <Column width="6rem" hAlign="Center">
                    <Label wrapping="true" textAlign="Center" wrappingType="Hyphenated" text="{i18n>next_date}"/>
                </Column>
                <Column hAlign="Center">
                    <Label wrapping="true" wrappingType="Hyphenated" text="{i18n>status}"/>
                </Column>
            </columns>
            <items>
                <ColumnListItem press="onTransDetailPress" type="Active">
                    <cells>
                        <Text text="{trans>id}"/>
                        <Title text="{trans>pawneeInfo/name}"/>
                        <Text text="{ path : 'trans>startDate',
                                      type: 'sap.ui.model.type.Date',
                                      formatOptions: {
                                                      source: {
                                                               pattern: 'yyyy-MM-ddTHH:mm:ss.sss+hhmm'
                                                               },
                                                      pattern: 'dd-MM-yyyy'
                                                      }
                                                  }"/>
                        <Text text="{trans>itemName}"/>
                        <Text text="{trans>category/categoryName}"/>
                        <Text text="{ path: 'trans>nextPaymentDate',
                                      type: 'sap.ui.model.type.Date',
                                      formatOptions: {
                                                       source: {
                                                                pattern: 'yyyy-MM-ddTHH:mm:ss.sss+hhmm'
                                                                },
                                                       pattern: 'dd-MM-yyyy'
                                                      }
                                        }"/>
                        <ObjectStatus
                                text="{
							path: 'trans>status',
							formatter: '.formatter.transStatusDesc'
						}"
                                state="{
							path: 'trans>status',
							formatter: '.formatter.transStatusState'
						}"/>
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
    </Page>
</mvc:View>